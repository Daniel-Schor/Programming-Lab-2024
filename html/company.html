<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <style>
    .active {
      background-color: #c0c0c0;
    }

    .chart-container {
      display: flex;
      justify-content: space-between;
    }

    .chart {
      width: 48%;
    }
  </style>
  <script src="/static/echarts.js"></script>
  <script src="static/charts.js" type="text/javascript"></script>
  <script type="text/javascript" src="/static/echarts.min.js"></script>
</head>

<body>
  <button id="bestButton">Best</button>
  <button id="worstButton">Worst</button>
  <button id="customButton">Custom</button>

  <button id="Last-Year">Last Year</button>
  <button id="Last-Quarter">Last Quarter</button>
  <button id="Last-Month">Last Month</button>
  <div class="customdate" id="customDateForm">
    <form id="dateForm">
      <input type="date" id="startDate" name="startDate" value="2022-12-01" required>
      <button id="customDate">"Custom Date"</button>
    </form>

  </div>
  <script>
    timeButtons();
    customDate();
  </script>

  <div class="chart-container">
    <div id="revenue" class="chart" style="height: 600px;"></div>
    <div id="revenueBar" class="chart" style="height: 600px;"></div>
  </div>
  <div id="statsOverview">
  </div>



  <script>
    function setActiveButton(buttonId) {
      document.getElementById("bestButton").classList.remove("active");
      document.getElementById("worstButton").classList.remove("active");
      document.getElementById("customButton").classList.remove("active");

      document.getElementById(buttonId).classList.add("active");
    }

    function bestButton() {
      revenueChart(true).then(colors => {
        revenueBarChart(colors);
      });
      setActiveButton("bestButton");
    }

    function worstButton() {
      revenueChart(false).then(colors => {
        revenueBarChart(colors);
      });
      setActiveButton("worstButton");
    }

    function customButton() {
      //revenueChart(false);
      revenueBarChart({ "S302800": "red" });
      setActiveButton("customButton");
    }

    document.getElementById("bestButton").addEventListener("click", bestButton);
    document.getElementById("worstButton").addEventListener("click", worstButton);
    document.getElementById("customButton").addEventListener("click", customButton);

    setActiveButton("bestButton");
    revenueChart().then(colors => {
      revenueBarChart(colors);
    });
    // -------------
    statsOverview();
    // -------------

  </script>

</body>

</html>